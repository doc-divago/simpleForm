<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>T0416</title>
  </head>
  <body>
    <form  action="map.html" name="signup">
      <label for="username">Username: </label>
      <input type="text" id="username" name="username" value=""><br>
      <label for="country">Country:</label>
      <input list="countries" name="country">
        <datalist id="countries">
          <option value="Belgium">
          <option value="Croatia">
          <option value="Greece">
          <option value="Italy">
          <option value="Latvia">
          <option value="Other">
        </datalist><br>
      <label for="pin">4-digit PIN:</label>
      <input type="password" id="pin" name="pin" value=""><br>
      <label for="checkpin">Repeat PIN:</label>
      <input type="password" id="checkpin" name="checkpin" value=""><br>
      <input type="submit" value="Submit" onclick="validateForm()">
    </form>
    <p id="demo"></p>
    <p id="demo2"></p>
    <script>
      function validateForm() {
        const username = document.signup.username.value;
        /*alert("Validating " + username);*/
        localStorage.setItem("username", username);
        document.getElementById("demo2").innerHTML = localStorage.getItem("username");
        const country = document.signup.country.value;
        console.log("Before if " + username);
        if ((username == "") || (username == "undefined")) {
          alert("Please, you must choose an username.");
          document.signup.username.focus();
          return false;
        }
        console.log("After if " + username);
        localStorage.setItem("username", "username: " + username);
        document.getElementById("demo").innerHTML = localStorage.getItem("username");
        localStorage.setItem("username2", username);
        return
      }
      document.getElementById("demo2").innerHTML = localStorage.getItem("username2");
    </script>
  </body>
</html>
